<!DOCTYPE html>
<html lang="en" dir="auto">

<head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="index, follow">
<title>Sightless | üç† yamsbot</title>
<meta name="keywords" content="">
<meta name="description" content="Description
Name: Sightless
Operating System: Linux
Difficulty: Easy
Points: 20
Retired: date

Nmap
Nmap scan i typically run for CTF challenges:
nmap -sCV -Pn -n --disable-arp-ping --min-rate 2500 -p1-65535 -oN nmap.Sightless $ip --stats-every 5s
Results
PORT   STATE SERVICE VERSION
21/tcp open  ftp
| fingerprint-strings:
|   GenericLines:
|     220 ProFTPD Server (sightless.htb FTP Server) [::ffff:10.129.241.96]
|     Invalid command: try being more creative
|_    Invalid command: try being more creative
22/tcp open  ssh     OpenSSH 8.9p1 Ubuntu 3ubuntu0.10 (Ubuntu Linux; protocol 2.0)
80/tcp open  http    nginx 1.18.0 (Ubuntu)
|_http-server-header: nginx/1.18.0 (Ubuntu)
|_http-title: Did not follow redirect to http://sightless.htb/
lets add sightless.htb to our /etc/hosts file">
<meta name="author" content="">
<link rel="canonical" href="http://localhost:1313/writeups/hackthebox/sightless/">
<link crossorigin="anonymous" href="/assets/css/stylesheet.d6fcd20a4fb86efa4dfac8ec95da60244cc8871042183da1ef28e3a762ad79c8.css" integrity="sha256-1vzSCk&#43;4bvpN&#43;sjsldpgJEzIhxBCGD2h7yjjp2Ktecg=" rel="preload stylesheet" as="style">
<link rel="icon" href="http://localhost:1313/favicon.ico">
<link rel="icon" type="image/png" sizes="16x16" href="http://localhost:1313/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="http://localhost:1313/favicon-32x32.png">
<link rel="apple-touch-icon" href="http://localhost:1313/apple-touch-icon.png">
<link rel="mask-icon" href="http://localhost:1313/safari-pinned-tab.svg">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<link rel="alternate" hreflang="en" href="http://localhost:1313/writeups/hackthebox/sightless/">
<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
</noscript><meta property="og:url" content="http://localhost:1313/writeups/hackthebox/sightless/">
  <meta property="og:site_name" content="üç† yamsbot">
  <meta property="og:title" content="Sightless">
  <meta property="og:description" content="Description Name: Sightless
Operating System: Linux
Difficulty: Easy
Points: 20
Retired: date
Nmap Nmap scan i typically run for CTF challenges:
nmap -sCV -Pn -n --disable-arp-ping --min-rate 2500 -p1-65535 -oN nmap.Sightless $ip --stats-every 5s Results
PORT STATE SERVICE VERSION 21/tcp open ftp | fingerprint-strings: | GenericLines: | 220 ProFTPD Server (sightless.htb FTP Server) [::ffff:10.129.241.96] | Invalid command: try being more creative |_ Invalid command: try being more creative 22/tcp open ssh OpenSSH 8.9p1 Ubuntu 3ubuntu0.10 (Ubuntu Linux; protocol 2.0) 80/tcp open http nginx 1.18.0 (Ubuntu) |_http-server-header: nginx/1.18.0 (Ubuntu) |_http-title: Did not follow redirect to http://sightless.htb/ lets add sightless.htb to our /etc/hosts file">
  <meta property="og:locale" content="en-us">
  <meta property="og:type" content="article">
    <meta property="article:section" content="writeups">
    <meta property="article:published_time" content="2024-11-17T08:21:22-05:00">
    <meta property="article:modified_time" content="2024-11-17T08:21:22-05:00">
    <meta property="og:image" content="http://localhost:1313/images/hackthebox/sightless/cover.png">
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:image" content="http://localhost:1313/images/hackthebox/sightless/cover.png">
<meta name="twitter:title" content="Sightless">
<meta name="twitter:description" content="Description
Name: Sightless
Operating System: Linux
Difficulty: Easy
Points: 20
Retired: date

Nmap
Nmap scan i typically run for CTF challenges:
nmap -sCV -Pn -n --disable-arp-ping --min-rate 2500 -p1-65535 -oN nmap.Sightless $ip --stats-every 5s
Results
PORT   STATE SERVICE VERSION
21/tcp open  ftp
| fingerprint-strings:
|   GenericLines:
|     220 ProFTPD Server (sightless.htb FTP Server) [::ffff:10.129.241.96]
|     Invalid command: try being more creative
|_    Invalid command: try being more creative
22/tcp open  ssh     OpenSSH 8.9p1 Ubuntu 3ubuntu0.10 (Ubuntu Linux; protocol 2.0)
80/tcp open  http    nginx 1.18.0 (Ubuntu)
|_http-server-header: nginx/1.18.0 (Ubuntu)
|_http-title: Did not follow redirect to http://sightless.htb/
lets add sightless.htb to our /etc/hosts file">


<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [
    {
      "@type": "ListItem",
      "position":  1 ,
      "name": "writeups",
      "item": "http://localhost:1313/writeups/"
    }, 
    {
      "@type": "ListItem",
      "position":  2 ,
      "name": "HackTheBox",
      "item": "http://localhost:1313/writeups/hackthebox/"
    }, 
    {
      "@type": "ListItem",
      "position":  3 ,
      "name": "Sightless",
      "item": "http://localhost:1313/writeups/hackthebox/sightless/"
    }
  ]
}
</script>
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "Sightless",
  "name": "Sightless",
  "description": "Description Name: Sightless\nOperating System: Linux\nDifficulty: Easy\nPoints: 20\nRetired: date\nNmap Nmap scan i typically run for CTF challenges:\nnmap -sCV -Pn -n --disable-arp-ping --min-rate 2500 -p1-65535 -oN nmap.Sightless $ip --stats-every 5s Results\nPORT STATE SERVICE VERSION 21/tcp open ftp | fingerprint-strings: | GenericLines: | 220 ProFTPD Server (sightless.htb FTP Server) [::ffff:10.129.241.96] | Invalid command: try being more creative |_ Invalid command: try being more creative 22/tcp open ssh OpenSSH 8.9p1 Ubuntu 3ubuntu0.10 (Ubuntu Linux; protocol 2.0) 80/tcp open http nginx 1.18.0 (Ubuntu) |_http-server-header: nginx/1.18.0 (Ubuntu) |_http-title: Did not follow redirect to http://sightless.htb/ lets add sightless.htb to our /etc/hosts file\n",
  "keywords": [
    
  ],
  "articleBody": "Description Name: Sightless\nOperating System: Linux\nDifficulty: Easy\nPoints: 20\nRetired: date\nNmap Nmap scan i typically run for CTF challenges:\nnmap -sCV -Pn -n --disable-arp-ping --min-rate 2500 -p1-65535 -oN nmap.Sightless $ip --stats-every 5s Results\nPORT STATE SERVICE VERSION 21/tcp open ftp | fingerprint-strings: | GenericLines: | 220 ProFTPD Server (sightless.htb FTP Server) [::ffff:10.129.241.96] | Invalid command: try being more creative |_ Invalid command: try being more creative 22/tcp open ssh OpenSSH 8.9p1 Ubuntu 3ubuntu0.10 (Ubuntu Linux; protocol 2.0) 80/tcp open http nginx 1.18.0 (Ubuntu) |_http-server-header: nginx/1.18.0 (Ubuntu) |_http-title: Did not follow redirect to http://sightless.htb/ lets add sightless.htb to our /etc/hosts file\nWriteup HTTP at the bottom of the webpage we find the service offerings from sightless\nSQLpad reveals a subdomain sqlpad.sightless.htb, lets add it to our /etc/hosts file and visit it\nsearching on google for sqlpad exploit we find the following repository\nhttps://github.com/0xRoqeeb/sqlpad-rce-exploit-CVE-2022-0944/blob/main/exploit.py\nfollowing the steps in the exploit we are able to successfully catch a shell in what seems to be a docker container\nUser flag examining /etc/passwd and /etc/shadow reveals there is an additional user and password present on the system\nusing jtr utility unshadow we can recover a hash and attempt to crack it\nunshadow passwd shadow \u003e hash.txt then use john with the common rockyou wordlist\njohn hash.txt --wordlist=rockyou.txt give john some time to work, and eventually we crack the hash revealing the credentials\nmichael:insaneclownposse\nthis allows us to ssh as michael@sightless.htb\nssh michael@sightless.htb and from here we can grab the user.txt flag\nRoot flag running netstat reveals a ton of internal services that we cannot access remotely\nrunning ps aux also reveals a few interesting processes running:\nroot 1490 0.0 3.4 990368 137796 ? Ssl 15:22 0:03 node /usr/app/server.js john 1578 0.0 0.6 33660 24684 ? S 15:24 0:02 /usr/bin/python3 /home/john/automation/administration.py john 1579 0.2 0.3 33630172 15320 ? Sl 15:24 0:13 /home/john/automation/chromedriver --port=47497 ... john 1589 0.4 2.8 34011320 111616 ? Sl 15:24 0:29 /opt/google/chrome/chrome --allow-pre-commit-input --disable-background-networking --disable-client-side-phishing-detection --disable-default-apps --disable-dev-shm-usage --disable-hang-monitor --disable-popup-blocking --disable-prompt-on-repost --disable-sync --enable-automation --enable-logging --headless --log-level=0 --no-first-run --no-sandbox --no-service-autorun --password-store=basic --remote-debugging-port=0 --test-type=webdriver --use-mock-keychain --user-data-dir=/tmp/.org.chromium.Chromium.kZp8Mg to access these services we can use a reverse tunnel, the simplest of which is using our already established ssh session.\nin this case, after some careful enumeration i determined that the chrome remote debugging was open on port 39875, this allows us to establish a tunnel and interact with the remote debugging session from our local device\nssh -L 12345:127.0.0.1:39875 michael@sightless.htb the automation on the box is constantly logging in and logging out of the admin user for the froxlor service.\nusing the metasploit module to retrieve a file via chrome debugging:\nadministration.py\n# snipped... while True: try: driver.get(\"http://admin.sightless.htb:8080/admin_logger.php?page=log\") time.sleep(7) # Username Field input_element = driver.find_element(By.ID, \"loginname\") input_element.send_keys(\"admin\") # Password field input_element = driver.find_element(By.ID, \"password\") input_element.send_keys(\"ForlorfroxAdmin\" + Keys.ENTER) print(\"Logged In...\") except UnexpectedAlertPresentException: input_element.send_keys(Keys.ENTER) pass time.sleep(5) dismiss_all_alerts(driver) driver.get(\"http://admin.sightless.htb:8080/admin_index.php?action=logout\") driver.get(\"http://admin.sightless.htb:8080/\") print(\"Logged Out\") time.sleep(3) #driver.close() here we find the froxlor credentials\nadmin:ForlorfroxAdmin\nport forward the froxlor dashboard located on port 8080 if you havent already and login with the credentials\nwe are able to execute commands in the context of the root user by modifying the PHP-FPM restart command. after modifying the PHP-FPM restart command, disable and enable PHP-FPM to execute your desired command.\noverall i did not enjoy this machine. although i did learn about chrome debugging which is something i can now add to my arsenal. i am unsure if this was the intended route, i did not use the ftp server or mysql server active on the machine\n",
  "wordCount" : "581",
  "inLanguage": "en",
  "image":"http://localhost:1313/images/hackthebox/sightless/cover.png","datePublished": "2024-11-17T08:21:22-05:00",
  "dateModified": "2024-11-17T08:21:22-05:00",
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "http://localhost:1313/writeups/hackthebox/sightless/"
  },
  "publisher": {
    "@type": "Organization",
    "name": "üç† yamsbot",
    "logo": {
      "@type": "ImageObject",
      "url": "http://localhost:1313/favicon.ico"
    }
  }
}
</script>
</head>

<body class=" dark" id="top">
<script>
    if (localStorage.getItem("pref-theme") === "light") {
        document.body.classList.remove('dark')
    }

</script>

<header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="http://localhost:1313/" accesskey="h" title="üç† yamsbot (Alt + H)">üç† yamsbot</a>
            <div class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
            </div>
        </div>
        <ul id="menu">
            <li>
                <a href="http://localhost:1313/about/" title="about">
                    <span>about</span>
                </a>
            </li>
            <li>
                <a href="http://localhost:1313/writeups/" title="writeups">
                    <span>writeups</span>
                </a>
            </li>
            <li>
                <a href="http://localhost:1313/research/" title="research">
                    <span>research</span>
                </a>
            </li>
            <li>
                <a href="http://localhost:1313/random/" title="random">
                    <span>random</span>
                </a>
            </li>
        </ul>
    </nav>
</header>
<main class="main">

<article class="post-single">
  <header class="post-header">
    
    <h1 class="post-title entry-hint-parent">
      Sightless
      <span class="entry-hint" title="Draft">
        <svg xmlns="http://www.w3.org/2000/svg" height="35" viewBox="0 -960 960 960" fill="currentColor">
          <path
            d="M160-410v-60h300v60H160Zm0-165v-60h470v60H160Zm0-165v-60h470v60H160Zm360 580v-123l221-220q9-9 20-13t22-4q12 0 23 4.5t20 13.5l37 37q9 9 13 20t4 22q0 11-4.5 22.5T862.09-380L643-160H520Zm300-263-37-37 37 37ZM580-220h38l121-122-18-19-19-18-122 121v38Zm141-141-19-18 37 37-18-19Z" />
        </svg>
      </span>
    </h1>
    <div class="post-meta"><span title='2024-11-17 08:21:22 -0500 EST'>November 17, 2024</span>&nbsp;¬∑&nbsp;3 min&nbsp;¬∑&nbsp;581 words

</div>
  </header> 
<figure class="entry-cover"><img loading="eager" src="http://localhost:1313/images/hackthebox/sightless/cover.png" alt="">
        
</figure>
  <div class="post-content"><h3 id="description">Description<a hidden class="anchor" aria-hidden="true" href="#description">#</a></h3>
<p><strong>Name:</strong> Sightless<br>
<strong>Operating System:</strong> Linux<br>
<strong>Difficulty:</strong> Easy<br>
<strong>Points:</strong> 20<br>
<strong>Retired:</strong> date</p>
<hr>
<h3 id="nmap">Nmap<a hidden class="anchor" aria-hidden="true" href="#nmap">#</a></h3>
<p>Nmap scan i typically run for CTF challenges:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>nmap -sCV -Pn -n --disable-arp-ping --min-rate <span style="color:#ae81ff">2500</span> -p1-65535 -oN nmap.Sightless $ip --stats-every 5s
</span></span></code></pre></div><p><strong>Results</strong></p>
<pre tabindex="0"><code>PORT   STATE SERVICE VERSION
21/tcp open  ftp
| fingerprint-strings:
|   GenericLines:
|     220 ProFTPD Server (sightless.htb FTP Server) [::ffff:10.129.241.96]
|     Invalid command: try being more creative
|_    Invalid command: try being more creative
22/tcp open  ssh     OpenSSH 8.9p1 Ubuntu 3ubuntu0.10 (Ubuntu Linux; protocol 2.0)
80/tcp open  http    nginx 1.18.0 (Ubuntu)
|_http-server-header: nginx/1.18.0 (Ubuntu)
|_http-title: Did not follow redirect to http://sightless.htb/
</code></pre><p>lets add sightless.htb to our /etc/hosts file</p>
<h3 id="writeup">Writeup<a hidden class="anchor" aria-hidden="true" href="#writeup">#</a></h3>
<h4 id="http">HTTP<a hidden class="anchor" aria-hidden="true" href="#http">#</a></h4>
<p>at the bottom of the webpage we find the service offerings from sightless</p>
<p><img loading="lazy" src="/images/hackthebox/sightless/services.png"></p>
<p>SQLpad reveals a subdomain <code>sqlpad.sightless.htb</code>, lets add it to our /etc/hosts file and visit it</p>
<p>searching on google for sqlpad exploit we find the following repository</p>
<p><a href="https://github.com/0xRoqeeb/sqlpad-rce-exploit-CVE-2022-0944/blob/main/exploit.py">https://github.com/0xRoqeeb/sqlpad-rce-exploit-CVE-2022-0944/blob/main/exploit.py</a></p>
<p>following the steps in the exploit we are able to successfully catch a shell in what seems to be a docker container</p>
<p><img loading="lazy" src="/images/hackthebox/sightless/docker.png"></p>
<h4 id="user-flag">User flag<a hidden class="anchor" aria-hidden="true" href="#user-flag">#</a></h4>
<p>examining /etc/passwd and /etc/shadow reveals there is an additional user and password present on the system</p>
<p><img loading="lazy" src="/images/hackthebox/sightless/passwd.png">
<img loading="lazy" src="/images/hackthebox/sightless/shadow.png"></p>
<p>using jtr utility unshadow we can recover a hash and attempt to crack it</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>unshadow passwd shadow &gt; hash.txt
</span></span></code></pre></div><p>then use john with the common rockyou wordlist</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>john hash.txt --wordlist<span style="color:#f92672">=</span>rockyou.txt
</span></span></code></pre></div><p>give john some time to work, and eventually we crack the hash revealing the credentials</p>
<p><code>michael:insaneclownposse</code></p>
<p>this allows us to ssh as <a href="mailto:michael@sightless.htb">michael@sightless.htb</a></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>ssh michael@sightless.htb
</span></span></code></pre></div><p>and from here we can grab the user.txt flag</p>
<h4 id="root-flag">Root flag<a hidden class="anchor" aria-hidden="true" href="#root-flag">#</a></h4>
<p>running netstat reveals a ton of internal services that we cannot access remotely</p>
<p><img loading="lazy" src="/images/hackthebox/sightless/netstat.png"></p>
<p>running <code>ps aux</code> also reveals a few interesting processes running:</p>
<pre tabindex="0"><code>root        1490  0.0  3.4 990368 137796 ?       Ssl  15:22   0:03 node /usr/app/server.js
john        1578  0.0  0.6  33660 24684 ?        S    15:24   0:02 /usr/bin/python3 /home/john/automation/administration.py
john        1579  0.2  0.3 33630172 15320 ?      Sl   15:24   0:13 /home/john/automation/chromedriver --port=47497

...

john        1589  0.4  2.8 34011320 111616 ?     Sl   15:24   0:29 /opt/google/chrome/chrome --allow-pre-commit-input --disable-background-networking --disable-client-side-phishing-detection --disable-default-apps --disable-dev-shm-usage --disable-hang-monitor --disable-popup-blocking --disable-prompt-on-repost --disable-sync --enable-automation --enable-logging --headless --log-level=0 --no-first-run --no-sandbox --no-service-autorun --password-store=basic --remote-debugging-port=0 --test-type=webdriver --use-mock-keychain --user-data-dir=/tmp/.org.chromium.Chromium.kZp8Mg
</code></pre><p>to access these services we can use a reverse tunnel, the simplest of which is using our already established ssh session.</p>
<p>in this case, after some careful enumeration i determined that the chrome remote debugging was open on port 39875, this allows us to establish a tunnel and interact with the <a href="https://exploit-notes.hdks.org/exploit/linux/privilege-escalation/chrome-remote-debugger-pentesting/">remote debugging session</a> from our local device</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>ssh -L 12345:127.0.0.1:39875 michael@sightless.htb
</span></span></code></pre></div><p><img loading="lazy" src="/images/hackthebox/sightless/chrome_debug.png"></p>
<p>the automation on the box is constantly logging in and logging out of the admin user for the froxlor service.</p>
<p>using the metasploit module to retrieve a file via chrome debugging:</p>
<p><img loading="lazy" src="/images/hackthebox/sightless/loot.png"></p>
<p><strong>administration.py</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python3" data-lang="python3"><span style="display:flex;"><span><span style="color:#75715e"># snipped...</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">while</span> <span style="color:#66d9ef">True</span>:
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">try</span>:
</span></span><span style="display:flex;"><span>        driver<span style="color:#f92672">.</span>get(<span style="color:#e6db74">&#34;http://admin.sightless.htb:8080/admin_logger.php?page=log&#34;</span>)
</span></span><span style="display:flex;"><span>        time<span style="color:#f92672">.</span>sleep(<span style="color:#ae81ff">7</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#75715e"># Username Field</span>
</span></span><span style="display:flex;"><span>        input_element <span style="color:#f92672">=</span> driver<span style="color:#f92672">.</span>find_element(By<span style="color:#f92672">.</span>ID, <span style="color:#e6db74">&#34;loginname&#34;</span>)
</span></span><span style="display:flex;"><span>        input_element<span style="color:#f92672">.</span>send_keys(<span style="color:#e6db74">&#34;admin&#34;</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#75715e"># Password field</span>
</span></span><span style="display:flex;"><span>        input_element <span style="color:#f92672">=</span> driver<span style="color:#f92672">.</span>find_element(By<span style="color:#f92672">.</span>ID, <span style="color:#e6db74">&#34;password&#34;</span>)
</span></span><span style="display:flex;"><span>        input_element<span style="color:#f92672">.</span>send_keys(<span style="color:#e6db74">&#34;ForlorfroxAdmin&#34;</span> <span style="color:#f92672">+</span> Keys<span style="color:#f92672">.</span>ENTER)
</span></span><span style="display:flex;"><span>        print(<span style="color:#e6db74">&#34;Logged In...&#34;</span>)
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">except</span> UnexpectedAlertPresentException:
</span></span><span style="display:flex;"><span>        input_element<span style="color:#f92672">.</span>send_keys(Keys<span style="color:#f92672">.</span>ENTER)
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">pass</span>
</span></span><span style="display:flex;"><span>    time<span style="color:#f92672">.</span>sleep(<span style="color:#ae81ff">5</span>)
</span></span><span style="display:flex;"><span>    dismiss_all_alerts(driver)
</span></span><span style="display:flex;"><span>    driver<span style="color:#f92672">.</span>get(<span style="color:#e6db74">&#34;http://admin.sightless.htb:8080/admin_index.php?action=logout&#34;</span>)
</span></span><span style="display:flex;"><span>    driver<span style="color:#f92672">.</span>get(<span style="color:#e6db74">&#34;http://admin.sightless.htb:8080/&#34;</span>)
</span></span><span style="display:flex;"><span>    print(<span style="color:#e6db74">&#34;Logged Out&#34;</span>)
</span></span><span style="display:flex;"><span>    time<span style="color:#f92672">.</span>sleep(<span style="color:#ae81ff">3</span>)
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">#driver.close()</span>
</span></span></code></pre></div><p>here we find the froxlor credentials</p>
<p><code>admin:ForlorfroxAdmin</code></p>
<p>port forward the froxlor dashboard located on port 8080 if you havent already and login with the credentials</p>
<p><img loading="lazy" src="/images/hackthebox/sightless/froxlor.png"></p>
<p>we are able to execute commands in the context of the root user by modifying the PHP-FPM restart command. after modifying the PHP-FPM restart command, disable and enable PHP-FPM to execute your desired command.</p>
<hr>
<p>overall i did not enjoy this machine. although i did learn about chrome debugging which is something i can now add to my arsenal. i am unsure if this was the intended route, i did not use the ftp server or mysql server active on the machine</p>


  </div>

  <footer class="post-footer">
    <ul class="post-tags">
    </ul>

<ul class="share-buttons">
    <li>
        <a target="_blank" rel="noopener noreferrer" aria-label="share Sightless on x"
            href="https://x.com/intent/tweet/?text=Sightless&amp;url=http%3a%2f%2flocalhost%3a1313%2fwriteups%2fhackthebox%2fsightless%2f&amp;hashtags=">
            <svg version="1.1" viewBox="0 0 512 512" xml:space="preserve" height="30px" width="30px" fill="currentColor">
                <path
                    d="M512 62.554 L 512 449.446 C 512 483.97 483.97 512 449.446 512 L 62.554 512 C 28.03 512 0 483.97 0 449.446 L 0 62.554 C 0 28.03 28.029 0 62.554 0 L 449.446 0 C 483.971 0 512 28.03 512 62.554 Z M 269.951 190.75 L 182.567 75.216 L 56 75.216 L 207.216 272.95 L 63.9 436.783 L 125.266 436.783 L 235.9 310.383 L 332.567 436.783 L 456 436.783 L 298.367 228.367 L 432.367 75.216 L 371.033 75.216 Z M 127.633 110 L 164.101 110 L 383.481 400.065 L 349.5 400.065 Z" />
            </svg>
        </a>
    </li>
    <li>
        <a target="_blank" rel="noopener noreferrer" aria-label="share Sightless on linkedin"
            href="https://www.linkedin.com/shareArticle?mini=true&amp;url=http%3a%2f%2flocalhost%3a1313%2fwriteups%2fhackthebox%2fsightless%2f&amp;title=Sightless&amp;summary=Sightless&amp;source=http%3a%2f%2flocalhost%3a1313%2fwriteups%2fhackthebox%2fsightless%2f">
            <svg version="1.1" viewBox="0 0 512 512" xml:space="preserve" height="30px" width="30px" fill="currentColor">
                <path
                    d="M449.446,0c34.525,0 62.554,28.03 62.554,62.554l0,386.892c0,34.524 -28.03,62.554 -62.554,62.554l-386.892,0c-34.524,0 -62.554,-28.03 -62.554,-62.554l0,-386.892c0,-34.524 28.029,-62.554 62.554,-62.554l386.892,0Zm-288.985,423.278l0,-225.717l-75.04,0l0,225.717l75.04,0Zm270.539,0l0,-129.439c0,-69.333 -37.018,-101.586 -86.381,-101.586c-39.804,0 -57.634,21.891 -67.617,37.266l0,-31.958l-75.021,0c0.995,21.181 0,225.717 0,225.717l75.02,0l0,-126.056c0,-6.748 0.486,-13.492 2.474,-18.315c5.414,-13.475 17.767,-27.434 38.494,-27.434c27.135,0 38.007,20.707 38.007,51.037l0,120.768l75.024,0Zm-307.552,-334.556c-25.674,0 -42.448,16.879 -42.448,39.002c0,21.658 16.264,39.002 41.455,39.002l0.484,0c26.165,0 42.452,-17.344 42.452,-39.002c-0.485,-22.092 -16.241,-38.954 -41.943,-39.002Z" />
            </svg>
        </a>
    </li>
</ul>

  </footer>
</article>
    </main>
    
<footer class="footer">
        <span>&copy; 2024 <a href="http://localhost:1313/">üç† yamsbot</a></span> ¬∑ 

    <span>
        Powered by
        <a href="https://gohugo.io/" rel="noopener noreferrer" target="_blank">Hugo</a> &
        <a href="https://github.com/adityatelange/hugo-PaperMod/" rel="noopener" target="_blank">PaperMod</a>
    </span>
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
        <path d="M12 6H0l6-6z" />
    </svg>
</a>

<script>
    let menu = document.getElementById('menu')
    if (menu) {
        menu.scrollLeft = localStorage.getItem("menu-scroll-position");
        menu.onscroll = function () {
            localStorage.setItem("menu-scroll-position", menu.scrollLeft);
        }
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });

</script>
<script>
    var mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };

</script>
<script>
    document.getElementById("theme-toggle").addEventListener("click", () => {
        if (document.body.className.includes("dark")) {
            document.body.classList.remove('dark');
            localStorage.setItem("pref-theme", 'light');
        } else {
            document.body.classList.add('dark');
            localStorage.setItem("pref-theme", 'dark');
        }
    })

</script>
<script>
    document.querySelectorAll('pre > code').forEach((codeblock) => {
        const container = codeblock.parentNode.parentNode;

        const copybutton = document.createElement('button');
        copybutton.classList.add('copy-code');
        copybutton.innerHTML = 'copy';

        function copyingDone() {
            copybutton.innerHTML = 'copied!';
            setTimeout(() => {
                copybutton.innerHTML = 'copy';
            }, 2000);
        }

        copybutton.addEventListener('click', (cb) => {
            if ('clipboard' in navigator) {
                navigator.clipboard.writeText(codeblock.textContent);
                copyingDone();
                return;
            }

            const range = document.createRange();
            range.selectNodeContents(codeblock);
            const selection = window.getSelection();
            selection.removeAllRanges();
            selection.addRange(range);
            try {
                document.execCommand('copy');
                copyingDone();
            } catch (e) { };
            selection.removeRange(range);
        });

        if (container.classList.contains("highlight")) {
            container.appendChild(copybutton);
        } else if (container.parentNode.firstChild == container) {
            
        } else if (codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName == "TABLE") {
            
            codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(copybutton);
        } else {
            
            codeblock.parentNode.appendChild(copybutton);
        }
    });
</script>
</body>

</html>
